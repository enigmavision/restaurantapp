<!DOCTYPE html>
<html>
<head>
	<title>Hot Restaurant Reservation</title>
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>
	<nav>
		<div class="nav-wrapper">
			<a href="#!" class="brand-logo center">Hot Restaurant</a>
			<ul class="left hide-on-med-and-down">
				<li><a href="/">Home</a></li>
				<li class="active"><a href="/add">Make a Reservation</a></li>
				<li><a href="/view">View Tables</a></li>
			</ul>
		</div>
	</nav>
	<br>
	<br>
	<br>
	<div class="container" id="form">
		<div class="row">
			<form class="col s12" method="POST">
				<div class="row">
					<div class="input-field col s6 offset-s3">
						<i class="material-icons prefix">account_circle</i>
						<input id="name" type="text" class="validate">
						<label for="name">Name</label>
					</div>
				</div>
				<div class="row">
					<div class="input-field col s6 offset-s3">
						<i class="material-icons prefix">phone</i>
						<input id="phone" type="tel" class="validate">
						<label for="phone">Telephone</label>
					</div>
				</div>
				<div class="row">
					<div class="input-field col s6 offset-s3">
						<i class="material-icons prefix">email</i>
						<input id="email" type="email" class="validate">
						<label for="email">Email</label>
					</div>
				</div>
				<div class="row">
					<div class="input-field col s6 offset-s3">
						<i class="material-icons prefix">perm_identity</i>
						<input id="userName" type="text" class="validate">
						<label for="userName">Username</label>
					</div>
				</div>
			</form>
			<div class="row">
				<div class="input-field col s6 offset-s3">
					<button class="btn waves-effect waves-light" type="submit" id="addBtn" name="action">Submit
					</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>

	<script type="text/javascript">
	$("#addBtn").on("click", function(e){
		e.preventDefault();
		var newReservation = {
			name: $("#name").val().trim(),
			phone: $("#phone").val().trim(),
			email: $("#email").val().trim(),
			userName: $("#userName").val().trim()
		};

		$.post("http://localhost:3000/api/new", newReservation)
		.done(function(data) {
			console.log(data);
			alert("Adding reservation...");
		});
	});
	</script>
	
</body>
</html>